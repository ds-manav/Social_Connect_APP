{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/src/component/Login/Login.component..jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { json, useLocation, useNavigate, useSearchParams } from \"react-router-dom\";\nimport { regestrationActions } from \"../../store/RegestrationSlice\";\nimport NavBar from \"../NavBar/NavBar.component\";\nimport './Login.style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = _ref => {\n  _s();\n  let {\n    props,\n    route,\n    navigation\n  } = _ref;\n  const navigate = useNavigate();\n  const userdetails = useSelector(state => state.rege.userdata);\n  const dispatch = useDispatch();\n  const [response, setResponse] = useState();\n  const [status, setStatus] = useState();\n\n  // Loggin Function\n  async function handleLogin() {\n    const posturl = `http://localhost:8000/api/login/`;\n    const data = axios.post(posturl, userdetails).then(response => {\n      setResponse(response.data);\n      setStatus(response.status);\n    });\n    if (status === 202) {\n      const user = {\n        id: response.id,\n        username: response.username,\n        email: response.email\n      };\n      localStorage.setItem(\"users\", JSON.stringify(user));\n      console.log(JSON.parse(localStorage.getItem(\"users\")));\n      alert(\"User is successfully logged in\");\n      navigate('/');\n      window.location.reload(true);\n    } else {\n      console.log(\"Incorrect Credentials\");\n      // navigate('/admin',{state:{userstatus:userstatus}})\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"logincontainer\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logininput\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"uservalues\",\n        type: \"email\",\n        placeholder: \"Email\",\n        value: userdetails.email,\n        onChange: e => {\n          dispatch(regestrationActions.setUseremail(e.target.value));\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"uservalues\",\n        type: \"password\",\n        placeholder: \"Password\",\n        value: userdetails.password,\n        onChange: e => {\n          dispatch(regestrationActions.setUserPassword(e.target.value));\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"loginbtn\",\n          onClick: handleLogin,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"loginbtn\",\n          onClick: () => {},\n          children: \"SignUp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"ZVLX3F0kYgc8JbJQHJs1yTlG0o8=\", false, function () {\n  return [useNavigate, useSelector, useDispatch];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","useEffect","useState","useDispatch","useSelector","json","useLocation","useNavigate","useSearchParams","regestrationActions","NavBar","Login","props","route","navigation","navigate","userdetails","state","rege","userdata","dispatch","response","setResponse","status","setStatus","handleLogin","posturl","data","post","then","user","id","username","email","localStorage","setItem","JSON","stringify","console","log","parse","getItem","alert","window","location","reload","e","setUseremail","target","value","password","setUserPassword"],"sources":["/usr/src/app/src/component/Login/Login.component..jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { json, useLocation, useNavigate, useSearchParams } from \"react-router-dom\";\r\nimport { regestrationActions } from \"../../store/RegestrationSlice\";\r\nimport NavBar from \"../NavBar/NavBar.component\";\r\nimport './Login.style.css'\r\n\r\nconst Login = ({props,route,navigation})=>{\r\n    const navigate = useNavigate();\r\n    const userdetails = useSelector((state)=>state.rege.userdata);\r\n    const dispatch = useDispatch();\r\n    const [response,setResponse] = useState();\r\n    const [status,setStatus] = useState();\r\n\r\n\r\n\r\n    // Loggin Function\r\n    async function handleLogin(){\r\n        const posturl = `http://localhost:8000/api/login/`;\r\n        const data =  axios.post(posturl,userdetails).then(response =>{\r\n             setResponse(response.data);\r\n             setStatus(response.status);\r\n        });\r\n        if(status === 202){\r\n            const user = {id:response.id,username:response.username,email:response.email} \r\n            localStorage.setItem(\"users\",JSON.stringify(user));\r\n            console.log(JSON.parse(localStorage.getItem(\"users\")));\r\n            alert(\"User is successfully logged in\");\r\n            navigate('/')\r\n            window.location.reload(true);\r\n        }\r\n        \r\n        else{\r\n            console.log(\"Incorrect Credentials\")\r\n            // navigate('/admin',{state:{userstatus:userstatus}})\r\n        }\r\n        \r\n\r\n\r\n    }\r\n    return (\r\n        <div className=\"logincontainer\">\r\n            <NavBar/>\r\n            <div className=\"logininput\">\r\n                <h1>Login</h1>\r\n                <input className=\"uservalues\" type=\"email\" placeholder=\"Email\" value={userdetails.email} onChange={(e)=>{\r\n                    dispatch(regestrationActions.setUseremail(e.target.value));\r\n                }}/>\r\n                <input className=\"uservalues\" type=\"password\" placeholder=\"Password\" value={userdetails.password} onChange={(e)=>{\r\n                    dispatch(regestrationActions.setUserPassword(e.target.value));\r\n                }}/>\r\n            <div className=\"login\">\r\n                <button id = \"loginbtn\" onClick={handleLogin}>Login</button>\r\n                <button id = \"loginbtn\" onClick={()=>{\r\n                    \r\n                }}>SignUp</button>\r\n            </div>\r\n            </div>\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}